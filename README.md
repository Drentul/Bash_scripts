# native_testing_linux_macos_scripts

Скрипты для помощи в настройке и управлении окружением и инструментами тестирования. Адаптированы для использования на Linux (потенциально MacOS)

Для использования, путь к папке со скриптами должен так или иначе находиться в $PATH. Вы можете временно изменить переменную командой export PATH=$PATH:{path-to-scripts}, записать соответствующую команду в ~/.bashrc для выполнения при запуске нового терминала или изменить содержимое PATH, записанного в /etc/environment. Или же вы можете просто запускать скрипты, находясь в одной с ними папке.

## Описание работы и параметры запуска скриптов

### adb_lib
Библиотека с функциями и переменными. В разделе "Переменные" вы должны вбить свои пути для поиска apk, сохранения скриншотов, название сетевого интерфейса Ethernet.

### adb_connect_ethernet
Без параметров  
Скрипт выполняет сканирование сети Ethernet, и пытается поочередно соединиться по adb с каждым найденынм в ней устройством. Полезно для быстрого подключения вслепую к приставкам. Теоретически рассчитано на использование с несколькими утсройствами, например при подключении через Ethernet концентратор.

### adb_install
Без параметров  
Скрипт ищет устройства, подключенные по adb. В случае, если их несколько, спросит к какому из них мы хоти обратиться. Далее скрипт спросит какой apk из списка (исользуется путь из adb_lib) мы хотим устрановить. В случае, если на устройстве уже есть приложение с таким package id, то оно предварительно будет удалено вместе с данными, а потом установлено новое из apk.

### adb_props
Без параметров  
Скрипт ищет и предлагает выбрать устройство, подключенное по adb. Затем выводит некоторые properties с этого устройства на экран в виде текстовой строки заданного вида. В данный момент выводится строка "$device\_name"', Android '"$droid\_ver" - для быстрого определения устройства и версии ОС дял копирования в тикеты.

### adb_run
adb_run {полный путь к apk}
В работе скрипта предполагается, что по adb подключено только одно устройство. Скрипт по содержимому apk определяет имя пакета и нужные активити, чтобы потом по adb остановить и снова запустить соответствующее приложение. Помогает если нужно часто перезапускать приложение на STB, где для этого надо сделать много действий.

### adb_screen
Без параметров  
Скрипт ищет и предлагает выбрать устройство, подключенное по adb. Затем скрипт сохраняет скриншот экрана устройства, а потом копирует его на устройство в определенную папку. Исходный скриншот будет удален с устройства.

### adb_screen_simple
Без параметров  
Скрипт ищет первое устройство в списке подключенных по adb, а затем снимает скриншот. Для избежания коллизий в названиях название будет сгенерировано в виде дата\_время\_случайные символы. Потом скриншоты будут перенесены на компьютер в назначенную для этого папку, а с утройства удалены. Рекомендуется повесить этот скрипт на исполнение по какому-то сочетанию клавиш.
